<% content_for :title, "Account" %>

<div class="mt-4">
  <h1 class="text-2xl font-bold text-coffee-800 dark:text-coffee-100 <%= "hidden" if native_app? %>">
    Account
  </h1>

  <div class="mt-4 p-6 rounded-2xl bg-white dark:bg-coffee-900 shadow-sm text-center">
    <div class="w-16 h-16 mx-auto rounded-full bg-coffee-200 dark:bg-coffee-700 flex items-center justify-center">
      <span class="text-2xl font-bold text-coffee-700 dark:text-coffee-200"><%= current_user.name&.first&.upcase %></span>
    </div>
    <h2 class="mt-3 text-lg font-bold text-coffee-800 dark:text-coffee-100"><%= current_user.name %></h2>
    <p class="text-sm text-coffee-500 dark:text-coffee-400"><%= current_user.email %></p>
  </div>

  <div class="mt-4 space-y-1">
    <div class="p-4 rounded-2xl bg-white dark:bg-coffee-900 shadow-sm">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-sm text-coffee-500 dark:text-coffee-400">Favorite store</p>
          <p class="font-medium text-coffee-800 dark:text-coffee-100"><%= current_user.favorite_store.presence || "Not set" %></p>
        </div>
      </div>
    </div>

    <div class="p-4 rounded-2xl bg-white dark:bg-coffee-900 shadow-sm">
      <div class="flex items-center justify-between">
        <div>
          <p class="text-sm text-coffee-500 dark:text-coffee-400">Reward points</p>
          <p class="font-medium text-coffee-800 dark:text-coffee-100"><%= current_user.reward_points %> points</p>
        </div>
        <%= link_to "View rewards", rewards_path, class: "text-sm font-medium text-coffee-800 dark:text-coffee-200 underline" %>
      </div>
    </div>
  </div>

  <div class="mt-6">
    <%= link_to "Edit profile", edit_account_path, class: "block w-full rounded-xl border-2 border-coffee-200 dark:border-coffee-700 text-coffee-800 dark:text-coffee-200 font-semibold py-3 text-center hover:bg-coffee-100 dark:hover:bg-coffee-900 transition" %>
  </div>

  <% unless native_app? %>
    <div class="mt-3">
      <%= button_to "Sign out", session_path, method: :delete, class: "w-full rounded-xl text-red-600 dark:text-red-400 font-medium py-3 text-center hover:bg-red-50 dark:hover:bg-red-900/20 transition cursor-pointer" %>
    </div>
  <% end %>
</div>
